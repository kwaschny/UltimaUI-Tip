// MIT, Copyright (c) 2014-2025 Alexander Kwaschny, kwaschny.net
!function(){"use strict";if(!window.UltimaTip){if(void 0===jQuery)throw new Error("jQuery missing for UltimaTip");if(!jQuery.isPlainObject)throw new Error("jQuery 1.4+ required for UltimaTip");window.UltimaTip=function(e,t){if(!(this instanceof UltimaTip))return new UltimaTip(e,t);e=jQuery(e).first(),this._={};var m=this;this.target=e,this.bubble=null,this.message=null,this.visible=!1,this.options={},this.options.current={},this.options.default={message:"",animations:{bubble:{show:{effect:"fadeIn",duration:400},hide:{effect:void 0,duration:void 0}}},behavior:{cursorDelay:200,hover:!0},css:{bubble:{className:"",directions:"bottom right",offset:{x:0,y:0},zIndex:9100},message:{className:""}},callbacks:{onTipShowing:void 0,onTipShown:void 0,onTipHiding:void 0,onTipHidden:void 0}},this._.properties={classNames:{bubble:"UltimaTip-bubble",message:"UltimaTip-message"}},this._.timeout={},this.hover=function(){this.bubble._.methods.reposition(),this.bubble.show()},this.remove=function(){var e=UltimaTip.getIndex(this.target);-1<e&&UltimaTip.collection.splice(e,1),this.target instanceof jQuery&&(this.target.off("mouseenter touchstart",m._.methods.mouseEnter),this.target.off("mouseleave touchend",m._.methods.mouseLeave),this.target.off("mousemove",m._.methods.mouseMove),this.target.removeAttr("aria-describedby")),this.bubble.dom.element instanceof jQuery&&this.bubble.dom.element.remove()},this.unhover=function(){this.bubble.hide()},this._.methods={createBubble:function(){var e=Date.now(),e={dom:{element:jQuery('<div id="'+e+'" role="tooltip"></div>').hide()},hide:function(){if(!jQuery.isFunction(m.options.current.callbacks.onTipHiding)||!1!==m.options.current.callbacks.onTipHiding(m)){var e=m.options.current.animations.bubble.hide.effect,t=(void 0===e&&(e=m.options.current.animations.bubble.show.effect),m.options.current.animations.bubble.hide.duration),i=(void 0===t&&(t=m.options.current.animations.bubble.show.duration),jQuery.isFunction(m.options.current.callbacks.onTipHidden));switch(e){case"fadeIn":case"fadeOut":this.dom.element.stop(!0,!0).fadeOut(t,function(){m.visible=!1,i&&m.options.current.callbacks.onTipHidden(m)});break;default:this.dom.element.hide(),m.visible=!1,i&&m.options.current.callbacks.onTipHidden(m)}}},show:function(){if(!jQuery.isFunction(m.options.current.callbacks.onTipShowing)||!1!==m.options.current.callbacks.onTipShowing(m)){var e=jQuery.isFunction(m.options.current.callbacks.onTipShown);switch(m.options.current.animations.bubble.show.effect){case"fadeIn":case"fadeOut":this.dom.element.stop(!0,!0).fadeIn(m.options.current.animations.bubble.show.duration,function(){m.visible=!0,e&&m.options.current.callbacks.onTipShown(m)});break;default:this.dom.element.show(),m.visible=!0,e&&m.options.current.callbacks.onTipShown(m)}}},_:{methods:{reposition:function(){var e=m.target.offset();if(void 0!==e){for(var t,i,o=m.target.outerHeight(),s=e.left,n=e.top,r=m.target.outerWidth(),a=m.bubble.dom.element.outerHeight(),l=m.bubble.dom.element.outerWidth(),u=m.options.current.css.bubble.directions.split(" "),c=0;c<u.length;c++)switch(u[c].toLowerCase()){case"bottom":i=n+o+m.options.current.css.bubble.offset.y;break;case"center":t=Math.max(0,s+r/2-l/2+m.options.current.css.bubble.offset.x);break;case"left":t=s-l-m.options.current.css.bubble.offset.x;break;case"middle":i=n+o/2-a/2+m.options.current.css.bubble.offset.y;break;case"right":t=s+r+m.options.current.css.bubble.offset.x;break;case"top":i=n-a-m.options.current.css.bubble.offset.y;break;case"cursor":t=window._UltimaTip_mouseX+(24+m.options.current.css.bubble.offset.x),i=window._UltimaTip_mouseY+(32+m.options.current.css.bubble.offset.y)}void 0===t&&(t=Math.max(0,s+r/2-l/2+m.options.current.css.bubble.offset.x)),void 0===i&&(i=n+o/2-a/2+m.options.current.css.bubble.offset.y),m.bubble.dom.element.css({left:t,top:i})}}}}},t=(e.dom.element.addClass(m._.properties.classNames.bubble),e.dom.element.addClass(m.options.current.css.bubble.className),{});return m.options.current.css.bubble.className||(t.backgroundColor="#FFFFFF",t.border="1px solid #808080",t.boxShadow="2px 2px 4px #808080",t.color="#808080",t.fontSize="80%",t.padding="4px"),jQuery.extend(!0,t,m.options.current.css.bubble),jQuery.extend(!0,t,{position:"absolute",zIndex:m.options.current.css.bubble.zIndex}),e.dom.element.css(t),!0===m.options.current.behavior.hover&&(m.target.on("mouseenter touchstart focusin",m._.methods.mouseEnter),m.target.on("mouseleave touchend focusout",m._.methods.mouseLeave),"cursor"===m.options.current.css.bubble.directions.toLowerCase())&&m.target.on("mousemove",m._.methods.mouseMove),e},createMessage:function(){var e={dom:{element:jQuery("<div></div>")},hide:function(){this.dom.element.hide()},set:function(e){this.dom.element.html(e)},show:function(){this.dom.element.show()}};return e.dom.element.addClass(m._.properties.classNames.message),e.dom.element.addClass(m.options.current.css.message.className),e.dom.element.css(m.options.current.css.message),e},mouseEnter:function(){m.bubble._.methods.reposition(),m.bubble.show()},mouseLeave:function(){m.bubble.hide()},mouseMove:function(){clearTimeout(m._.timeout.mouseMove),m._.timeout.mouseMove=setTimeout(m.bubble._.methods.reposition,m.options.current.behavior.cursorDelay)},mergeOptions:function(e,t){m._.methods.translateOptions(t);var i={};return jQuery.extend(!0,i,e),jQuery.extend(!0,i,t),i},translateOptions:function(e){var t,i,o,s,n,r;for(r in e)if(e.hasOwnProperty(r)&&0===r.indexOf("->")){for(i=(t=(t=r.replace("->","")).split(".")).length,n=s={},o=0;o<i-1;o++)n[t[o]]={},n=n[t[o]];n[t[i-1]]=e[r],delete e[r],jQuery.extend(!0,e,s)}return e}},this.options.current=this._.methods.mergeOptions(this.options.default,UltimaTip.options),this.options.current=this._.methods.mergeOptions(this.options.current,t),this.bubble=this._.methods.createBubble(),this.target.attr("aria-describedby",this.bubble.dom.element.prop("id")),this.message=this._.methods.createMessage(),this.message.set(this.options.current.message),this.bubble.dom.element.append(this.message.dom.element),jQuery("body").append(this.bubble.dom.element),UltimaTip.collection.push(this)},UltimaTip.collection=[],UltimaTip.options={},UltimaTip._={methods:{}},UltimaTip._.methods.isOptions=function(e){if(jQuery.isPlainObject(e)){if(e.message&&!jQuery.isPlainObject(e.message)||e.css&&jQuery.isPlainObject(e.css)||e.callbacks&&jQuery.isPlainObject(e.callbacks))return!0;for(var t in e)if(e.hasOwnProperty(t)&&/^->[a-z]+(\.[a-z]+)?/.test(t))return!0}return!1},UltimaTip.clear=function(){for(var e=UltimaTip.collection,t=e.length;0<e.length;)e[0].remove();return t},UltimaTip.exists=function(e){for(var t=e.message,i=0,o=UltimaTip.collection.length;i<o;i++)if(UltimaTip.collection[i].options.current.message===t)return!0;return!1},UltimaTip.get=function(e){if("number"==typeof e){if(UltimaTip.collection.length>e)return UltimaTip.collection[e]}else{e=UltimaTip.getIndex(e);if(-1<e)return UltimaTip.collection[e]}return null},UltimaTip.getAll=function(e){e instanceof jQuery&&(e=e[0]);for(var t=[],i=0,o=UltimaTip.collection.length;i<o;i++)e===UltimaTip.collection[i].target[0]&&t.push(UltimaTip.collection[i]);return t},UltimaTip.getIndex=function(e){e instanceof jQuery&&(e=e[0]);for(var t=0,i=UltimaTip.collection.length;t<i;t++)if(e===UltimaTip.collection[t].target[0])return t;return-1},UltimaTip.remove=function(e){for(var t=0,i=UltimaTip.getAll(e),o=0;o<i.length;o++)i[o].remove(),t+=1;return t},jQuery.UltimaTip={options:{}},jQuery.UltimaTip.hover=function(e,t,i){if(void 0===e)return null;2===arguments.length&&UltimaTip._.methods.isOptions(t)&&(i=t,t=void 0);var o={};if(jQuery.extend(!0,o,jQuery.UltimaTip.options),jQuery.extend(!0,o,i),t&&(o.message=t),UltimaTip.exists(o)){for(var s=UltimaTip.getAll(e),n=0;n<s.length;n++)s[n].hover();return s}return(i=new UltimaTip(e,o)).hover(),i},jQuery.UltimaTip.unhover=function(e){return UltimaTip.remove(e)},jQuery.fn.UltimaTip=function(e,t){if(void 0===e||""===e)return UltimaTip.remove(this);1===arguments.length&&UltimaTip._.methods.isOptions(e)&&(t=e,e=void 0);var i={};return jQuery.extend(!0,i,jQuery.UltimaTip.options),jQuery.extend(!0,i,t),e&&(i.message=e),this.each(function(){if(UltimaTip.exists(i))return!0;new UltimaTip(this,i)}),this},jQuery.fn.hoverTip=function(){return this.each(function(){for(var e=UltimaTip.getAll(this),t=0;t<e.length;t++)e[t].hover()}),this},jQuery.fn.unhoverTip=function(){return this.each(function(){for(var e=UltimaTip.getAll(this),t=0;t<e.length;t++)e[t].unhover()}),this},jQuery.fn.toggleHoverTip=function(){return this.each(function(){for(var e=UltimaTip.getAll(this),t=0;t<e.length;t++)e[t].visible?e[t].unhover():e[t].hover()}),this},UltimaTip.version="0.6.0",window._UltimaTip_mouseX=0,window._UltimaTip_mouseY=0,jQuery(document).on("mousemove",function(e){window._UltimaTip_mouseX=e.pageX,window._UltimaTip_mouseY=e.pageY})}}();
